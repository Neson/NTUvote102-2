<?php
	require_once("/var/www/Model/MySQL.php");
	/**
	* 
	*/

	class TicketKey extends MySQL{
		var $password , $salt , $auth;

		function __construct($pwd){
			MySQL::connect();
			global $password , $salt , $auth;
			$password = $pwd;


			$len=32;

			$ranges = array(1 => array(97, 122),2 => array(65, 90),3 => array(48, 57));	
			$ranges_total = count($ranges);
			
			$tmp = '';
			for($i=0; $i < $len; $i++){
				$r = mt_rand(1, $ranges_total);
				$tmp .= chr(mt_rand($ranges[$r][0], $ranges[$r][1]));
			}

			$salt = $tmp;

			$auth = sha1($salt.md5($password));
		}

		function intodb(){
			global $salt , $auth , $password;
			$keyindex = substr(md5($password), 1,10) ;
			$sql = "INSERT INTO `ticket`(auth, salt, status, step ,keyindex) VALUES
							('$auth','$salt','0','0','$keyindex')";
			$tmp = $this->query($sql);


			return $tmp;
		}
	}

$passlist="A0QYQRMIUO
A1EHXXPLAP
A4IJEMAUVK
A0QBAGYLOV
A3NHFCBCGJ
A2VWUAXFQV
A2ORSYYIIM
A2FJVAVDRS
A1SATNCTED
A2UBVMHBII
A5XMYCRPRV
A7KITKQEVY
A5ZBBYRKXM
A9GHFARGOU
A7ZTGQFJHX
A5CPUQHAZX
A9WFZBZNSA
A7JICATMUY
A5ZXFXJBBT
A5NBJSHCFB
B1BQQWOHMR
B3ERKMQPRM
B4RQYBMRDA
B2EGFRAPTH
B3RPODQEQR
B1RUYAHBOH
B0NVXSGNHE
B3EFKPIEFQ
B4RBJDWSKT
B4OOXEKMBF
B7AHGXXSXH
B9AAISPDSQ
B6IOZSLHMA
B7LZPFAJIE
B5RNIBDSLK
B9HKRLZSBJ
B5QPGPQLDL
B8FIHUPMWC
B7DZDSGWTA
B6DFXYESZY
C1BCLFYEIW
C2FPHVUFRF
C3ZGUXJCKN
C2HLVKZQSH
C2YJXEQAFV
C1FAJVWDCP
C2DHFYVHTC
C1JLUZIBDE
C3IVKFXUSL
C2ILWDTDRJ
C6JHYJFCYV
C5ZOWLVYJS
C6IJNVPVQR
C5VUYIGTFC
C8DTZOHHRA
C9SPUMMMDF
C7FBAYERAZ
C9YNAXGFSQ
C8KZFUZMWR
C6CQASGUOW
D3ZNMBTCTW
D0WIVLRFXF
D1MSTIXCWO
D4OHWLFRKH
D2SSRDETQO
D1FVRYRXTB
D4IUUECCKZ
D3MPMCFKRI
D0SJNZATEW
D2IWQAVAQJ
D5IDMXJODG
D6WFUCMHWJ
D5NTQJFAEZ
D8DCUHDJSE
D8DFCUWAEV
D7BBDFJWUJ
D5ABTGJRZA
D6BRQKHUBT
D8IUIREXTO
D9JKXCVNUU
E4UQVLFAMA
E4PECTVZOE
E0JLXWVPSR
E0XKRHESZA
E0UOCMXLZF
E3VRBKCWAO
E0RDMJGLOJ
E2NMQUUWSH
E3ASBZELGP
E3DZOQFSEK
E9SYZKCOOX
E6IXDYZBLP
E8QMYRZKAB
E5CBDVJJGT
E6QUQNMOGI
E6ACFEUXSD
E7GTSIWGKP
E5XQMSXOVT
E9ZHDXSQKS
E8DPTSQROP
F3EIQCQQZV
F4NPPULWPE
F4ZOYOXMQP
F3QOPLPLWG
F3TXIUJZEU
F3ZQNJXUXN
F0RKPFRFYK
F4LHVYCONE
F0OGUDSEVO
F3NZQTHOMK
F8AOSPMZVK
F9TEDRYNJO
F8VJDNTAPH
F9PHRJEWBO
F9DPGNRNET
F9MULHUIXF
F8ZODJGLAF
F9EBVXXVGR
F7XKUZBCAV
F6PSMYUHKT
G2RTFSHRHR
G1NNWXFKWN
G2FYLTANSH
G1TXNBJUJU
G2QRSERNFI
G4WKFVAJJT
G3ZURSLGSU
G0MQQYBRDB
G0ANSEUWYH
G2JQDIXNWM
G8CXLOLIJY
G8VGPSILOC
G7ANTILQHJ
G8JXXTSAYH
G6CVZRRPLT
G6ZNURRNPW
G7HTLOYRJA
G6SKQXOTIL
G5NEWCICOI
G7LUTQJVNT
H4TBDFVSCW
H4EUZVQDZS
H1PDDCQJAF
H3WSHKLSWK
H3YIPTWQPQ
H1XEVDQVYO
H2JCZMNBEH
H1KBUNSQGB
H1VCAAKFCM
H4DCJKGYXC
H8GBYNVGYN
H9CNGYGNAL
H6OWCBBJLT
H5ECVFGCPY
H5QYMVPAED
H9WBMFBWHE
H5ODYFBIFD
H9ZBWJGROM
H9IJFWAEZY
H5XXXFKZYC
I1EUFXCVHF
I3FVGYLWUL
I3XPTOKUUI
I4XHJTYCQU
I2AQPXFJEW
I4LTXYDSDH
I0VCHXIGZR
I4MFBINDHU
I0BQGPOTYL
I1DLWNVDGP
I7OCCRXHCB
I5IIBTPGJP
I6KBDJAMTZ
I9EWYCSZBF
I9FEPJLVPN
I5GMQUAZLC
I5DKWVGJTT
I6KZPWHWRT
I6PVUCZEQM
I7RKPRBUPL
J1EISRLYJS
J0DXBDGCXC
J1YCPZRPFD
J2URETJUDO
J0AZYNHIGS
J2YLHTSTSP
J1KTTJXHRF
J1VCZMTBIF
J1UBJLUBBE
J1EFOIAWMN
J6AKDKEUZC
J8FFHHLCGM
J9VZBWPQIM
J9GTVUGWCG
J7XUGWRTUZ
J7KIWQMDCR
J9OLUQNNIH
J8XJOSXRAF
J6PMZJXXAE
J5ZDYODBUQ
K0ENYTFHPX
K3EQSZOVGW
K0CTTQTQRX
K1TRFJSNTC
K2UQOMSPTB
K4JRPMFUSI
K1JNNMYNDO
K3ONGDAFZC
K1HNPWWUJS
K3SWNDUMSO
K5IBPGEQVO
K7YOOFGNGX
K9IOHOBFYV
K7SZWDPGTA
K5YZUKVNCB
K9CFUWKVHP
K9KQCUWLXF
K7NTFLPPVH
K6EBGUTFAX
K5UTZLUIAQ";

$todopass = explode("\n", $passlist);

foreach ($todopass as $key => $value) {

	$a = new TicketKey($value);
	print_r($a->intodb());

}


?>